{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\n\nconst refs = {\n  searchGallery: document.querySelector('.gallery'),\n  loader: document.querySelector('.js-loader'),\n};\n\nconst createGalleryItem = imgInfo => {\n  return `<li class=\"gallery-item\">\n             <a href =\"${imgInfo.largeImageURL}\">\n             <img class=\"gallery-img\" src=\"${imgInfo.webformatURL}\" alt=\"${imgInfo.tags}\"/> \n             </a> \n\n<ul class = \"img-info-list\">\n <li class=\"img-info-item\"><span class=\"img-item-desc\">Likes</span> ${imgInfo.likes}</li>\n <li class=\"img-info-item\"><span class=\"img-item-desc\">Vievs </span> ${imgInfo.views}</li>\n <li class=\"img-info-item\"><span class=\"img-item-desc\">Comments </span> ${imgInfo.comments}</li>\n <li class=\"img-info-item\"><span class=\"img-item-desc\">Downloads</span> ${imgInfo.downloads}</li>\n</ul>\n\n          </li>`;\n};\n\nconst gallery = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nexport const createGallery = images => {\n  const markup = images.map(imgItem => createGalleryItem(imgItem)).join('');\n\n  refs.searchGallery.innerHTML = markup;\n  gallery.refresh();\n};\n\nexport const clearGallery = () => (refs.searchGallery.innerHTML = '');\n\nexport const showLoader = () => {\n  refs.loader.classList.remove('is-hidden');\n};\nexport const hideLoader = () => {\n  refs.loader.classList.add('is-hidden');\n};\n","import axios from 'axios';\n\nconst API_KEY = '53395208-f197eaad794bdfcff5070dc5e';\nconst MAIN_URL = 'https://pixabay.com/api/';\n\nexport const getImagesByQuery = query => {\n  return axios\n    .get(MAIN_URL, {\n      params: {\n        key: API_KEY,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n      },\n    })\n    .then(response => response.data);\n};\n","import iziToast from 'izitoast';\n\nimport {\n  createGallery,\n  clearGallery,\n  showLoader,\n  hideLoader,\n} from './js/render-functions';\nimport { getImagesByQuery } from './js/pixabay-api';\n\nconst refs = {\n  form: document.querySelector('.form'),\n  searchGallery: document.querySelector('.gallery'),\n  loader: document.querySelector('.js-loader'),\n};\n\nconst onSearchFormSubmit = event => {\n  event.preventDefault();\n  const { target: searchForm } = event;\n\n  const userInput = searchForm.elements['search-text'].value.trim();\n\n  if (userInput === '') {\n    iziToast.error({\n      message: 'Pleace enter what are you searching for',\n      position: 'topRight',\n    });\n    return;\n  }\n  showLoader();\n\n  getImagesByQuery(userInput)\n    .then(data => {\n      const { hits: imgArr } = data;\n\n      if (imgArr.length === 0) {\n        clearGallery();\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n\n        return;\n      }\n      clearGallery();\n      createGallery(imgArr);\n    })\n    .catch(err => {\n      console.log(err);\n    })\n    .finally(hideLoader);\n  refs.form.reset();\n};\n\nrefs.form.addEventListener('submit', onSearchFormSubmit);\n"],"names":["refs","createGalleryItem","imgInfo","gallery","SimpleLightbox","createGallery","images","markup","imgItem","clearGallery","showLoader","hideLoader","API_KEY","MAIN_URL","getImagesByQuery","query","axios","response","onSearchFormSubmit","event","searchForm","userInput","iziToast","data","imgArr","err"],"mappings":"owBAEA,MAAMA,EAAO,CACX,cAAe,SAAS,cAAc,UAAU,EAChD,OAAQ,SAAS,cAAc,YAAY,CAC7C,EAEMC,EAAoBC,GACjB;AAAA,yBACgBA,EAAQ,aAAa;AAAA,6CACDA,EAAQ,YAAY,UAAUA,EAAQ,IAAI;AAAA;AAAA;AAAA;AAAA,sEAIjBA,EAAQ,KAAK;AAAA,uEACZA,EAAQ,KAAK;AAAA,0EACVA,EAAQ,QAAQ;AAAA,0EAChBA,EAAQ,SAAS;AAAA;AAAA;AAAA,iBAMrFC,EAAU,IAAIC,EAAe,aAAc,CAC/C,aAAc,MACd,aAAc,GAChB,CAAC,EAEYC,EAAgBC,GAAU,CACrC,MAAMC,EAASD,EAAO,IAAIE,GAAWP,EAAkBO,CAAO,CAAC,EAAE,KAAK,EAAE,EAExER,EAAK,cAAc,UAAYO,EAC/BJ,EAAQ,QAAO,CACjB,EAEaM,EAAe,IAAOT,EAAK,cAAc,UAAY,GAErDU,EAAa,IAAM,CAC9BV,EAAK,OAAO,UAAU,OAAO,WAAW,CAC1C,EACaW,EAAa,IAAM,CAC9BX,EAAK,OAAO,UAAU,IAAI,WAAW,CACvC,ECxCMY,EAAU,qCACVC,EAAW,2BAEJC,EAAmBC,GACvBC,EACJ,IAAIH,EAAU,CACb,OAAQ,CACN,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACP,CAAK,EACA,KAAKE,GAAYA,EAAS,IAAI,ECN7BjB,EAAO,CACX,KAAM,SAAS,cAAc,OAAO,EACpC,cAAe,SAAS,cAAc,UAAU,EAChD,OAAQ,SAAS,cAAc,YAAY,CAC7C,EAEMkB,EAAqBC,GAAS,CAClCA,EAAM,eAAc,EACpB,KAAM,CAAE,OAAQC,CAAY,EAAGD,EAEzBE,EAAYD,EAAW,SAAS,aAAa,EAAE,MAAM,OAE3D,GAAIC,IAAc,GAAI,CACpBC,EAAS,MAAM,CACb,QAAS,0CACT,SAAU,UAChB,CAAK,EACD,MACD,CACDZ,IAEAI,EAAiBO,CAAS,EACvB,KAAKE,GAAQ,CACZ,KAAM,CAAE,KAAMC,CAAQ,EAAGD,EAEzB,GAAIC,EAAO,SAAW,EAAG,CACvBf,IACAa,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UACpB,CAAS,EAED,MACD,CACDb,IACAJ,EAAcmB,CAAM,CAC1B,CAAK,EACA,MAAMC,GAAO,CACZ,QAAQ,IAAIA,CAAG,CACrB,CAAK,EACA,QAAQd,CAAU,EACrBX,EAAK,KAAK,OACZ,EAEAA,EAAK,KAAK,iBAAiB,SAAUkB,CAAkB"}